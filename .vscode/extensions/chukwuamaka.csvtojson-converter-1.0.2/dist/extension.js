module.exports=function(e){var o={};function n(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=o,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"==typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var r in e)n.d(t,r,function(o){return e[o]}.bind(null,r));return t},n.n=function(e){var o=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="",n(n.s=0)}([function(e,o,n){const t=n(1),r=n(2),i=n(3);function s(e){console.log('Congratulations, your extension "csv-json" is now active!');let o=t.commands.registerCommand("csv.toJSON",(function(){const e=t.window.activeTextEditor.document.uri.fsPath,o=`${e.split("\\").slice(0,-1).join("\\")}\\${i.basename(e,".csv")}.json`;const n=function(){try{return t.window.showInformationMessage("Converting file to JSON"),r.readFileSync(e,"utf-8")}catch(e){throw t.window.showErrorMessage("CSV file could not be read"),e}}().split("\n").map(e=>e.split(",")),s=n[0],c=n.slice(1).map(e=>{var o={};return s.forEach((n,t)=>o[n]=e[t]),o}),a=JSON.stringify(c,null,"\t").replace(/\\r/g,"");r.writeFile(o,a,e=>{if(e)return t.window.showErrorMessage("Conversion to JSON failed!");t.window.showInformationMessage("Conversion to JSON was successful!","Open Now").then(e=>{"Open Now"===e&&t.workspace.openTextDocument(o).then(e=>t.window.showTextDocument(e,t.ViewColumn.Beside,!1))})})})),n=t.commands.registerCommand("json.toCSV",(function(){const e=t.window.activeTextEditor.document.uri.fsPath,o=`${e.split("\\").slice(0,-1).join("\\")}\\${i.basename(e,".json")}.csv`;const n=function(){try{return t.window.showInformationMessage("Converting file to CSV"),JSON.parse(r.readFileSync(e,"utf-8"))}catch(e){throw t.window.showErrorMessage("JSON file could not be read"),e}}(),s=Array.isArray(n)?n:[n];var c={};s.forEach((e,o)=>{Object.entries(e).forEach(e=>{void 0===c[e[0]]?(c[e[0]]=[],c[e[0]][o]=e[1]):c[e[0]][o]=e[1]})});const a=Object.keys(c).join(",")+"\n";var u="";const f=Object.values(c);for(var l=0;l<f[0].length;l++){var d=[];f.forEach(e=>{d.push(e[l])}),u+=d.join(","),u+=l!==f[0].length-1?"\n":""}const w=a+u;r.writeFile(o,w,e=>{if(e)return t.window.showErrorMessage("Conversion to CSV failed!");t.window.showInformationMessage("Conversion to CSV was successful!","Open Now").then(e=>{"Open Now"===e&&t.workspace.openTextDocument(o).then(e=>t.window.showTextDocument(e,t.ViewColumn.Beside,!1))})})}));e.subscriptions.push(o),e.subscriptions.push(n)}o.activate=s,e.exports={activate:s,deactivate:function(){}}},function(e,o){e.exports=require("vscode")},function(e,o){e.exports=require("fs")},function(e,o){e.exports=require("path")}]);
//# sourceMappingURL=extension.js.map